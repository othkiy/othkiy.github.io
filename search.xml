<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title></title>
      <link href="/2018/12/06/%E5%9C%A8%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%AD%E5%AE%89%E8%A3%85ArchLinux/"/>
      <url>/2018/12/06/%E5%9C%A8%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%AD%E5%AE%89%E8%A3%85ArchLinux/</url>
      
        <content type="html"><![CDATA[<h1 id="在虚拟机-Virtual-Box-中安装ArchLinux"><a href="#在虚拟机-Virtual-Box-中安装ArchLinux" class="headerlink" title="在虚拟机(Virtual Box)中安装ArchLinux"></a>在虚拟机(Virtual Box)中安装ArchLinux</h1><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ol><li><p><a href="https://wiki.archlinux.org/index.php/Installation_guide" target="_blank" rel="noopener">ArchWiki</a></p></li><li><p><a href="https://www.bilibili.com/video/av17575653?t=1239" target="_blank" rel="noopener">bilibli视屏教程</a></p></li><li><p>国内高校开源镜像站。（<a href="https://mirrors.tuna.tsinghua.edu.cn/" target="_blank" rel="noopener">清华</a>）</p></li></ol><h3 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h3><h4 id="BIOS的两种形式"><a href="#BIOS的两种形式" class="headerlink" title="BIOS的两种形式"></a>BIOS的两种形式</h4><p>  <strong>BIOS包含UEFI和legacy（传统）两种启动模式</strong>，<strong>UEFI</strong>全称“统一的可扩展固件接口”(Unified Extensible Firmware Interface)， 是一种详细描述类型接口的标准。这种接口用于操作系统自动从预启动的操作环境，加载到一种操作系统上。UEFI方式减少了BIOS的自检过程，因此能够缩短开机时间，UEFI只支持64为系统且磁盘分区必须为gpt模式。如果你的PC在UEFI启动模式下预装了Win10，你会发现有两个很小的隐藏分区。一个叫<strong>ESP</strong>(EFI系统分区)，另一个<strong>MSR</strong>(Microsoft保留分区，通常为128MB)，MSR是windows要求的。ESP对UEFI启动模式很重要，UEFI的引导程序是以后缀名为.efi的文件存放在ESP分区中的，ESP分区采用fat32文件系统。此外，可能还存在一个小分区叫<strong>WinRETools</strong>，这个是win10的恢复分区</p><h4 id="CSM"><a href="#CSM" class="headerlink" title="CSM"></a>CSM</h4><p>  CSM是一个兼容支持模块，可以让新的UEFI BIOS兼容老的legacy+MBR启动模式。</p><h4 id="GPT"><a href="#GPT" class="headerlink" title="GPT"></a>GPT</h4><p>  GPT是一种<strong>新型磁盘模式</strong>，与我们常用的MBR磁盘相比更稳定，自纠错能力更强，一块磁盘上主分区数量不受限制，支持大于2T的总容量及大于2T的分区，并且几乎没有上限，最大支持到128个分区，分区大小支持到256TB。</p><h4 id="分区模式"><a href="#分区模式" class="headerlink" title="分区模式"></a>分区模式</h4><p><strong>GPT</strong></p><p><strong>GUID磁盘分区表</strong>（<strong>GUID Partition Table</strong>，缩写：<strong>GPT</strong>）其含义为“全局唯一标识磁盘分区表”，是一个实体硬盘的<a href="https://baike.baidu.com/item/%E5%88%86%E5%8C%BA%E8%A1%A8/215102" target="_blank" rel="noopener">分区表</a>的结构布局的标准。它是<a href="https://baike.baidu.com/item/%E5%8F%AF%E6%89%A9%E5%B1%95%E5%9B%BA%E4%BB%B6%E6%8E%A5%E5%8F%A3" target="_blank" rel="noopener">可扩展固件接口</a>（<a href="https://baike.baidu.com/item/EFI" target="_blank" rel="noopener">EFI</a>）标准（被Intel用于替代个人计算机的<a href="https://baike.baidu.com/item/BIOS" target="_blank" rel="noopener">BIOS</a>）的一部分，被用于替代BIOS系统中的一64bits来存储逻辑块地址和大小信息的主开机纪录（MBR）分区表。</p><ul><li><h4 id="设置EFi"><a href="#设置EFi" class="headerlink" title="设置EFi"></a>设置EFi</h4></li></ul><p>运行virtualbox后，在左侧选择要设置的虚拟机</p><p>右键选择设置或者直接点击菜单栏上的设置</p><p>打开系统，勾选启用efi</p><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><h4 id="1-timedatectl-status查看系统时钟"><a href="#1-timedatectl-status查看系统时钟" class="headerlink" title="1. timedatectl status查看系统时钟"></a>1. timedatectl status查看系统时钟</h4><pre><code>timedatectl status</code></pre><p>设置系统时钟</p><pre><code>timedatectl set-ntp true</code></pre><h4 id="2-使用ping-网址检查网络连接"><a href="#2-使用ping-网址检查网络连接" class="headerlink" title="2. 使用ping+网址检查网络连接"></a>2. 使用ping+网址检查网络连接</h4><pre><code>ping www.baidu.com</code></pre><h4 id="3-使用对新人友好的cfdisk进行分区"><a href="#3-使用对新人友好的cfdisk进行分区" class="headerlink" title="3. 使用对新人友好的cfdisk进行分区"></a>3. 使用对新人友好的cfdisk进行分区</h4><p>选定gpt 在free space下新建文件</p><p>设置大小后</p><pre><code>ESC:wq(write quite)</code></pre><p>查看分区文件</p><pre><code>lsblk</code></pre><p>查看硬盘及分区信息</p><pre><code>fdisk -l</code></pre><h4 id="4-对分区进行格式化"><a href="#4-对分区进行格式化" class="headerlink" title="4. 对分区进行格式化"></a>4. 对分区进行格式化</h4><ol><li><p>文件</p><p> mkfs.ext4 /dev/xxx</p></li><li><p>Swap</p><p> mkswap -f /dev/xxx（swap为<strong>虚拟内存</strong>不够时使用）</p></li></ol><p>启用swap文件</p><pre><code>swapon /dev/xxx</code></pre><ol start="3"><li><p>EFI</p><p>mkfs.vfat /dec/xxx</p></li></ol><h4 id="5-设置镜像网站来加快下载速度"><a href="#5-设置镜像网站来加快下载速度" class="headerlink" title="5. 设置镜像网站来加快下载速度"></a>5. 设置镜像网站来加快下载速度</h4><p>修改下载网站首选项<br>​    vim /etc/pacman.d/mirrorlist<br>或</p><pre><code>nano /etc/pacman.d/mirrorlist</code></pre><p>若此目录下无该文件则两个命令都会<strong>自动创建</strong></p><p>将选定的地址按 ‘ 2 ’ + ‘ dd ’ 剪切两行</p><p>再在最开始的地方按 ‘ p ’ 粘贴将此地址作为下载首选项</p><p>vim下按’ESC’后输入<br>​    :wq<br>nano则根据<strong>屏幕下方提示</strong></p><h4 id="6-挂载文件"><a href="#6-挂载文件" class="headerlink" title="6. 挂载文件"></a>6. 挂载文件</h4><p>将sda1挂载到mnt<br>​    munt /dev/sda1 /mnt<br>在’/mnt’目录下创建文件<br>​    mkdir /mnt/xxx</p><h4 id="7-下载软件包"><a href="#7-下载软件包" class="headerlink" title="7. 下载软件包"></a>7. 下载软件包</h4><p>在mnt目录下通过之前设置好的地址下载base包（基本软件包）<br>​    pacstrap /mnt base<br>完成后可下载base-devel扩展包，内含开发常用的包<br>​    pastrap /mnt base-devel</p><h4 id="8-输出文件"><a href="#8-输出文件" class="headerlink" title="8. 输出文件"></a>8. 输出文件</h4><pre><code>gnfstab -U /mnt &gt;&gt; /mnt/etc/fstab</code></pre><p>查看文件</p><pre><code>cat /mnt/etc/fstab</code></pre><h4 id="9-打开在之前在mnt目录下下载的鑫系统（用户名，主机名改变）"><a href="#9-打开在之前在mnt目录下下载的鑫系统（用户名，主机名改变）" class="headerlink" title="9. 打开在之前在mnt目录下下载的鑫系统（用户名，主机名改变）"></a>9. 打开在之前在mnt目录下下载的鑫系统（用户名，主机名改变）</h4><pre><code>ach-chroot /mnt</code></pre><h4 id="10-设置时区"><a href="#10-设置时区" class="headerlink" title="10. 设置时区"></a>10. 设置时区</h4><pre><code>ln -sf/usr/share/zoneinfo/Regin/City/etc/localtimeln -sf/usr/share/zoneinfo/Asia/Shanghai /etc/localtime(中国大陆使用)</code></pre><h5 id="设置硬件时间"><a href="#设置硬件时间" class="headerlink" title="设置硬件时间"></a>设置硬件时间</h5><pre><code>hwclock -–systohc</code></pre><h4 id="11-设置软件使用语言"><a href="#11-设置软件使用语言" class="headerlink" title="11. 设置软件使用语言"></a>11. 设置软件使用语言</h4><h5 id="安装所需文件"><a href="#安装所需文件" class="headerlink" title="安装所需文件"></a>安装所需文件</h5><pre><code>pacman -S vim</code></pre><h5 id="编辑文本"><a href="#编辑文本" class="headerlink" title="编辑文本"></a>编辑文本</h5><pre><code>vim /etc/locale.gen</code></pre><h5 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h5><pre><code>esc /zh_CN</code></pre><p>找到需要的语言’x’删除其前面的#”后</p><pre><code>:wq</code></pre><p>保存退出</p><h5 id="使用刚才编辑的文件"><a href="#使用刚才编辑的文件" class="headerlink" title="使用刚才编辑的文件"></a>使用刚才编辑的文件</h5><pre><code>locale-gen</code></pre><h4 id="12-设置变量"><a href="#12-设置变量" class="headerlink" title="12. 设置变量"></a>12. 设置变量</h4><pre><code>echo ‘LANG=zh_CN.UTF-8’ &gt; /etc/locale.conf</code></pre><h5 id="在’locale-conf’中写入"><a href="#在’locale-conf’中写入" class="headerlink" title="在’locale.conf’中写入"></a>在’locale.conf’中写入</h5><pre><code>LANG=zh_CN.UTF-8</code></pre><h4 id="13-在chroot中安装网络驱动"><a href="#13-在chroot中安装网络驱动" class="headerlink" title="13. 在chroot中安装网络驱动"></a>13. 在chroot中安装网络驱动</h4><pre><code>pacman -S iw wpa_supplicant dialog</code></pre><p><strong>使用ping查看网络</strong></p><h4 id="13-设置chroot密码"><a href="#13-设置chroot密码" class="headerlink" title="13. 设置chroot密码"></a>13. 设置chroot密码</h4><pre><code>passwr xxxxx</code></pre><p>直接输入密码 <strong>密码已隐藏</strong></p><h4 id="14-因特尔cpu安装支持程序"><a href="#14-因特尔cpu安装支持程序" class="headerlink" title="14. 因特尔cpu安装支持程序"></a>14. 因特尔cpu安装支持程序</h4><pre><code>pacman -S intel-ucode</code></pre><h4 id="15-安装引导加载程序"><a href="#15-安装引导加载程序" class="headerlink" title="15. 安装引导加载程序"></a>15. 安装引导加载程序</h4><pre><code>pacman -S grub (efibootmgr)grub-install –target=x86_64-efi –efi-drectory=/xxx/xxx –bootloader-id=grubgrub-mkconfig -o /boot/grub/grub.cfg</code></pre><h4 id="16-配置完成退出chroot"><a href="#16-配置完成退出chroot" class="headerlink" title="16.配置完成退出chroot"></a>16.配置完成退出chroot</h4><pre><code>exitreboot</code></pre>]]></content>
      
      
      
    </entry>
    
    <entry>
      <title>Hello World</title>
      <link href="/2018/12/03/hello-world/"/>
      <url>/2018/12/03/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
  
  
</search>
